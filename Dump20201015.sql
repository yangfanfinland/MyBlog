-- MySQL dump 10.13  Distrib 8.0.21, for Win64 (x86_64)
--
-- Host: localhost    Database: react_blog
-- ------------------------------------------------------
-- Server version	8.0.21

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `admin_user`
--

DROP TABLE IF EXISTS `admin_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `admin_user` (
  `id` int NOT NULL AUTO_INCREMENT,
  `userName` varchar(45) NOT NULL,
  `password` varchar(45) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `admin_user`
--

LOCK TABLES `admin_user` WRITE;
/*!40000 ALTER TABLE `admin_user` DISABLE KEYS */;
INSERT INTO `admin_user` VALUES (1,'fan','2rjaFvus');
/*!40000 ALTER TABLE `admin_user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `article`
--

DROP TABLE IF EXISTS `article`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `article` (
  `id` int NOT NULL AUTO_INCREMENT,
  `type_id` int NOT NULL,
  `title` varchar(255) NOT NULL,
  `article_content` text NOT NULL,
  `introduce` text,
  `addTime` datetime DEFAULT NULL,
  `view_count` int DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `article`
--

LOCK TABLES `article` WRITE;
/*!40000 ALTER TABLE `article` DISABLE KEYS */;
INSERT INTO `article` VALUES (1,1,'Default value for SoftType ports','- Feature Name: Default value for SoftType ports\n- Start Date: 2020-09-08\n- PR: [#3449](https://dev.azure.com/Eurostepproducts/Nova/_git/Eurostep.SAS.Web/pullrequest/3449)\n- Work Item: [#20964](https://dev.azure.com/Eurostepproducts/Nova/_workitems/edit/20964/)\n\n# Summary\n[summary]: #summary\n\nThis feature allows configuring a default value for a SoftType ports on three levels:\n- Data section\n- Input schema\n- View control\n\n# Motivation\n[motivation]: #motivation\n\nThere is a need to be able to configure a default value for a SoftType port.\n\n# Guide-level explanation\n[guide-level-explanation]: #guide-level-explanation\n\nIt is possible, in a number of ways, to configure a default value for a SoftType port:\n- The port has a number of `Allowed values` configured, and one of them is treated as the default one.\n- The port is optional, but is assigned a default value when no user input is provided.\n\nThe default value can be configured at three levels:\n- SoftType data section\n- Input schema\n- View level (UI control)\n\n## Default value overwriting rule\nIf a default value is configured on many levels for the same port, the order for which the default value takes precedence is:\n\n1. Default value on the view control\n2. Default value on the input schema attribute\n3. Default value on the port in the data section\n\nThis feature has implementation changes in `Backend`, `Config Tool` and `Web`.\n\n## Backend\nDefault value in the Data Section is already supported (however it might lack documentation), and default value in a View control will be treated in the same way as a user input so it is only setting a default value in an input schema that require implementation changes.\n\n### Default value in Input schema\nThe default value configured in an Input schema is stored as a lookup on the `IPort` (can be `IValuePort` or `IInstanceReferencePort`).\n\n## Config Tool\nThe Config Tool is updated to handle setting a default values on all 3 layers.\n\n### Default value for ports with list of allowed values\n\n#### Data section \nIn the data section we support adding a default value for the following port types:\n- Value port\n- Instance reference port\n\n##### Value port\nSetting a default value an a Value port is already supported, with the `Internal value port` with the id property configured (to override the default value).\n\nFor a value port with a list of allowed values, only one of the allowed values can be selected as the default value.\n\n##### Instance reference port\nThe instance reference always points at an already existing instance. When allowed values is configured on an instance reference port, the instance dropdown is only populated with the allowed instances, and the selected one is the default one. Setting the id property exposes the port in the input schema, making it possible to override the default value.\n\n#### Input schema\nOn an input schema attribute it is possible to configure a default value. Configuring a default value on input schema level will override any configured default value in the data section.\n\n##### Value port\nIn the configuration view for an input schema port attribute, a dropdown with allowed values is shown, populated with the allowed values from the data section. If any is selected, it will be the default value, overriding any default value configured in the data section.\n\n##### Instance reference port\nSame as for value port.\n\n##### JSON output\nA default value on any input schema port attribute is parsed to the `default` propery in the input schema json, e.g:\n\n```json\n{\n  \"$id\": \"defaultInput\",\n  \"definition\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"id\": {\n        \"type\": \"string\",\n        \"required\": true,\n        \"default\": \"Eurostep\" // <--- the default value for id port\n      },\n      \"name\": {\n        \"type\": \"string\"\n      }\n    }\n  }\n}\n```\n\n#### View controls\n\n##### Value port\nThe following ports have the following capabilities:\n- TextBox: If a `TextBox` is bound to a schema property which has a list ofallowed values, it is only possible to pick a default value from the allowed values list.\n- TextArea: If a `TextArea` is bound to a schema property which has a list of allowed values, it is only possible to pick a default value from the allowed values list.\n- DatePicker: If a `DatePicker` is bound to a schema property which has a list of allowed values, it is only possible to pick a default value from the allowed values list.\n- Select: When adding a value set (label + value), it is only possible to set value from the allowed values list. Then the default value (which currently is picked from the configured value set), is then mapped to one the of the allowed values.\n\n##### Instance reference port\n- SingleQuickSelect: If a `SingleQuickSelect` is bound to a schema property which has a list of allowed values, it is only possible to pick a default value from the allowed values list.\n\n- MultiQuickSelect: If a `MultiQuickSelect` is bound to a schema property which has a list of allowed values, it is only possible to pick a default value from the allowed values list.\n\n- Select: If a `Select` is bound to a schema property which has a list of allowed values, it is only possible to pick a default value from the allowed values list.\n\n### Default value for optional ports\n\n#### Data section \nIn case no list of allowed values are provided it is possible to either:\n- leave it free for the configurator to decide what should be the default value\n- indicate a keyword, e.g. @today+1, @now for dates.\n- indicate an extension for calculating the default value\n\n##### Value port\nFor a value port it is possible to set a default value, by entering the value into the `value` field. This is what we call an `internal value port` in the Backend implementation, and this was already supported before implementing this feature.\n\n##### Instance reference port\nFor an instance reference port, the default instance is selected in the `Instance Reference` drop down list.  \nThis was already supported before implementing this feature.\n\n#### Input schema\n\n##### Value port\nFor a value port it is possible to set a default value inside the schema. This value can be decided by the configurator but it has to correspond to the format of the port e.g. string, date etc.\n\n##### Instance reference port\nFor an instance reference port it is possible, at the input schema level, to indicate the default value for a schema property of type object by indicating the id of an instance.\n\n#### View control\n\n##### Value port\n- `TextBox`: (already had a Default Value) nothing to change and works as before.\n- `TextArea`: (already had a Default Value) nothing to change and works as before.\n- `DatePicker`: this has got a Default Value field so a default value can be set to any date\n- `Select`: (already had a Default Value) nothing to change and works as before.\n\n##### Instance reference port\n- `SingleQuickSelect`: this has got a Default Value field so a default value can be set to reference a SoftType instance by its id.\n- `MultiQuickSelect`: this has got a Default Value field so a default value can be set to reference a SoftType instance by its id.\n- `Select`: (already has a Default value) similar as for the value port but value is used to refer to a SoftType instance by its Id.\n\n## Web\n### value ports\nFor normal value ports, usually the components working with values ports already has default value support. Only extend part is `DatePicker`\n- `DatePicker`: A Default Value field so a default value can be set, plan text and `@today`. The `@today` keyword also support adding or subtracting `n` number of days, e.g: `@today + 1` or `@today - 3` etc.\n\n### Instance reference port\n- `SingleQuickSelect`: A Default Value field so a default value can be set to reference a SoftType instance by its id, once default value set, will pre-populate in web.\n- `MultiQuickSelect`: A Default Value field so a default value can be set to reference a SoftType instance by its id, once default value set, will pre-populate in web.\n- `PersonQuickSelect`: A Default Value field so a default value can be set to reference a SoftType instance by its id, once default value set, will pre-populate in web.\n- `InstanceSelect`: A Default Value field so a default value can be set to reference a SoftType instance by its id, once default value set, will pre-populate in web.\n\n# Reference-level explanation\n[reference-level-explanation]: #reference-level-explanation\n\n## value ports\n- `DatePicker`:Read default value to pre-populate it in datapicker\n\n## Instance reference port\n- `SingleQuickSelect`: Get list of allowedInstances and pre-populate the default value. If no allowedInstances list defiend, working as before.\n- `MultiQuickSelect`: Get list of allowedInstances and pre-populate the default value. If no allowedInstances list defiend, working as before.\n- `PersonQuickSelect`: Get list of allowedInstances and pre-populate the default value. If no allowedInstances list defiend, working as before.\n- `InstanceSelect`: We defined a router to get allowedInstance for specific port to setup the select list, probably this control will be obsolescent. \n\n\n','- Feature Name: Default value for SoftType ports\n- Start Date: 2020-09-08\n- PR: [#3449](https://dev.azure.com/Eurostepproducts/Nova/_git/Eurostep.SAS.Web/pullrequest/3449)\n- Work Item: [#20964](https://dev.azure.com/Eurostepproducts/Nova/_workitems/edit/20964/)\n\n# Summary\n[summary]: #summary\n\nThis feature allows configuring a default value for a SoftType ports on three levels:\n- Data section\n- Input schema\n- View control\n\n# Motivation\nA default value on any input schema port attribute is parsed to the `default` propery in the input schema json, e.g:\n\n```json\n{\n  \"$id\": \"defaultInput\",\n  \"definition\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"id\": {\n        \"type\": \"string\",\n        \"required\": true,\n        \"default\": \"Eurostep\" // <--- the default value for id port\n      },\n      \"name\": {\n        \"type\": \"string\"\n      }\n    }\n  }\n}\n```','2020-10-11 00:00:00',5798),(2,1,'PP8253 New extension module options','# New extension module options\n----\n\n| | |\n|-|-|\n| **Phase** | ELABORATION | \n| **Authoring Team** | mgn |\n| **Last Update** | 2020-05-27 |\n| **Version** | 1.0 |\n| **Status** | Ready for solution proposal |\n| **Change Request** | PP#[8253](https://productplanner.shareaspace.com/sasweb/#/space/productplanner01/SupportItem?uuid=f811000000000000c7000f000000&softTypeId=SupportItem&q=2080) |\n| |  |\n\n## Table of Contents\n\n- [Backgrounds](#backgrounds)\n- [Requirements](#requirements)\n- [Design](#design)\n- [Summary Of Features](#summary-of-features)\n- [Identified New Features](#identified-new-features)\n- [Impacts Analysis on Legacy](#impacts-analysis-on-legacy)\n- [Glossary](#glossary)\n\n## Backgrounds\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\nToday we have the option to configure an external module that will use the full module canvas for the extension.\nThis new module would keep (and make configuration possible) the ribbon menu and the \"read pane\" to the right.\nThere would have to be a contract for passing notifications on \"context changes\" to the module.\n\n**Example use:** \nThe 3D view component would take responsibility for rendering a tree view and to display the 3D view. Clicking a \npart in the 3D view or the tree would send a notification to the module. The module would load a ribbon and read \nview for the selected SoftType instance based on the configuration. This would lower the amount of custom implementation \nrequired for extension modules like this one. Since the presentation and actions like edit could use OOTB ShareAspace functionality.\n\n## Requirements\n----\n\n|Id          |Short Name                  |Description |\n|------------|----------------------------|------------|\n|UI-EXT-001  |Module option for ribbon    |The UI Extension module configuration (SAsWeb client configuration) should be extended with an option to activate the ShareAspace ribbon. |\n|UI-EXT-002  |Module option for SoftTypes |The UI Extension module configuration should be extended with an option to define what SoftTypes it supports as input. |\n|UI-EXT-003  |Module option for actions   |When the ribbon option is activated it should be possible to define the ribbon menu with actions as for other Generic modules. |\n|UI-EXT-004  |Module option for read pane |The UI Extension module configuration should be extended with an option to activate the \"right-hand-side\" read view. |\n|UI-EXT-005  |Notification contract       |There should be a javascript based \"contract\" for the extension UI to notify ShareAspace about the currently selected object. The selected object should be shown in the read view if activated. The ribbon menu should be rendered for the selected object if activated. |\n\n\n## Design\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\n### Extension module configuration parameters\nAdditional setting `activatedFeatures`, with a comma separated value string, where the allowed options should be:\n* `Ribbon` - if configured, this activates the OOTB ribbon menu (and forms that goes with the )\n* `OutputView`- if configured, this activates the OOTB \"right-hand-side\" SoftType read view\n\nIf `activatedFeatures` are not configured the extension module will work as today.\n\nFrom the generic module the following should settings should be replicated. These are needed for the ribbon configuration. These should only be considered if the ribbon menu is active.\n* `baseTypes`\n* `softTypes`\n* `staticActions`\n* `actions`\n* `multiActions`\n* `externalStaticActions`\n* `externalActions`\n* `externalMultiActions`\n\nOnly considered if the `OutputView` is configured on `activatedFeatures`\n* `outputViews`\n\nWhen activating a feature (`Ribbon` and/or `OutputView`) in the ConfigTool, the configuration options should be activated. They should remain hidden if no feature is active.\n\n|Sub feature             |Active for `Ribbon` |Active for `OutputView` |\n|------------------------|--------------------|------------------------|\n|`baseTypes`             | X                  | X                      |\n|`softTypes`             | X                  | X                      |\n|`staticActions`         | X                  | -                      |\n|`actions`               | X                  | -                      |\n|`multiActions`          | X                  | -                      |\n|`externalStaticActions` | X                  | -                      |\n|`externalActions`       | X                  | -                      |\n|`externalMultiActions`  | X                  | -                      |\n|`outputViews`           | -                  | X                      |\n\nAll features are active if both `Ribbon` and `OutputView` are selected.\n\n### Examples\n\n`activatedFeatures` not set\n\n![Activated features](_static/activated-features-ct.png)\n\n![No activated features](_static/no-activated-features.png)\n\n`activateFeatures` set to `Ribbon`\n\n![Ribbon activated](_static/ribbon-activated.png)\n\n`activateFeatures` set to `OutputView`\n\n![Output view activated](_static/output-view-activated.png)\n\n`activateFeatures` set to `OutputView` and `Ribbon`\n\n![All activated](_static/all-activated.png)\n\n### Notification message\nIt should be possible to send a notification message from the extension to SAsWeb. This in order for ShareAspace to update the ribbon menu and the read view.\n\n```json\n{\n    \"type\": \"selection-changed\",\n    \"data\": {\n        \"selectedObject\": {\n            \"$oid\": \"123456\"\n        }\n    }\n}\n```\n\n```js\nwindow.parent.postMessage(JSON.stringify({\n                type: \"selection-changed\",\n                data: {\n                    selectedObject: {\n                        $oid: \"123456\"\n                    }\n                }\n            }), route);\n```\n\n> **Note:** Specifics on this message must be decided in the solution proposal. We might also require additional parameters sent when starting the module. Like `frameId` and `route` as with the form extension.\n\n## Summary of Features\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\n\n| #  | Feature                 | Priority (P1 / P2 / P3) |\n|----|-------------------------|-------------------------|\n|F1  |Configuration extensions |P1                       |\n\n\n\n## Possible New Features\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\n* Could possibly activate the full ContextObjectModule suite of features for this.\n* Be able to \"minimize\" the object viewer. Goes for full ShareAspace web UX.\n\n## Impacts Analysis on Legacy\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\nNo. These are all addition. No breaking change.\n\n## Glossary\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\n| Term | Definition |\n|------|------------|\n|      |            |\n\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n','# New extension module options\n----\n\n| | |\n|-|-|\n| **Phase** | ELABORATION | \n| **Authoring Team** | mgn |\n| **Last Update** | 2020-05-27 |\n| **Version** | 1.0 |\n| **Status** | Ready for solution proposal |\n| **Change Request** | PP#[8253](https://productplanner.shareaspace.com/sasweb/#/space/productplanner01/SupportItem?uuid=f811000000000000c7000f000000&softTypeId=SupportItem&q=2080) |\n| |  |\n\n## Backgrounds\n----\n| | \n|-:|\n|[TOC](#table-of-contents)|\n\nToday we have the option to configure an external module that will use the full module canvas for the extension.\nThis new module would keep (and make configuration possible) the ribbon menu and the \"read pane\" to the right.\nThere would have to be a contract for passing notifications on \"context changes\" to the module.\n\n**Example use:** \nThe 3D view component would take responsibility for rendering a tree view and to display the 3D view. Clicking a \npart in the 3D view or the tree would send a notification to the module. The module would load a ribbon and read \nview for the selected SoftType instance based on the configuration. This would lower the amount of custom implementation \nrequired for extension modules like this one. Since the presentation and actions like edit could use OOTB ShareAspace functionality.','2020-10-10 00:00:00',1230),(3,2,'杨帆的精彩生活','杨帆的精彩生活','杨帆的精彩生活','2020-10-13 00:00:00',10032);
/*!40000 ALTER TABLE `article` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `type`
--

DROP TABLE IF EXISTS `type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `type` (
  `id` int NOT NULL AUTO_INCREMENT,
  `typeName` varchar(255) NOT NULL,
  `orderNum` int NOT NULL,
  `icon` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `type`
--

LOCK TABLES `type` WRITE;
/*!40000 ALTER TABLE `type` DISABLE KEYS */;
INSERT INTO `type` VALUES (1,'Project',0,'FolderOutlined'),(2,'Life',1,'StarOutlined');
/*!40000 ALTER TABLE `type` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-10-15 19:52:29
